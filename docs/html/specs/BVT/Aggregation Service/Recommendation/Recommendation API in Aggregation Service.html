<article class='markdown-body'><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="..\..\..\..\style.css"><h1>Recommendation API in Aggregation Service Specification</h1>
<p>Date Created    : 01/17/2018
Version         : 1.0.0
Owner           : Osanda Deshan
Description     : This specification covers recommendation scenarios from the aggregation service</p>
<p>tags: aggregation_service, recommendation, ci_ready</p>
<ul>
<li>
<p>Given that a user needs to invoke &quot;Recommendation API in Aggregation Service&quot;</p>
</li>
<li>
<p>And the user set the request authentication configurations as follows</p>
<table>
<thead>
<tr>
<th>Configuration</th>
<th>Configuration Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Is authentication required?</td>
<td>Yes</td>
</tr>
<tr>
<td>Do you need to retrieve the access token from the text file?</td>
<td>Yes</td>
</tr>
<tr>
<td>Provide the access token if you need to authorize the API manually</td>
<td>N/A</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using valid personId and valid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId1</td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId2</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;200&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.person</td>
<td>personId1</td>
</tr>
<tr>
<td>$.deck</td>
<td>deckId2</td>
</tr>
<tr>
<td>$.session.sessionSize</td>
<td>20</td>
</tr>
<tr>
<td>$.groups[0].groupId</td>
<td>0</td>
</tr>
<tr>
<td>$.groups[0].groupType</td>
<td>UNPLAYED</td>
</tr>
<tr>
<td>$.groups[1].groupId</td>
<td>1</td>
</tr>
<tr>
<td>$.groups[1].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[1].minPercent</td>
<td>0.0</td>
</tr>
<tr>
<td>$.groups[1].maxPercent</td>
<td>0.33333</td>
</tr>
<tr>
<td>$.groups[2].groupId</td>
<td>2</td>
</tr>
<tr>
<td>$.groups[2].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[2].minPercent</td>
<td>0.33333</td>
</tr>
<tr>
<td>$.groups[2].maxPercent</td>
<td>0.46941</td>
</tr>
<tr>
<td>$.groups[3].groupId</td>
<td>3</td>
</tr>
<tr>
<td>$.groups[3].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[3].minPercent</td>
<td>0.46941</td>
</tr>
<tr>
<td>$.groups[3].maxPercent</td>
<td>0.51941</td>
</tr>
<tr>
<td>$.groups[4].groupId</td>
<td>4</td>
</tr>
<tr>
<td>$.groups[4].groupType</td>
<td>MASTERED</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using invalid personId and valid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>person</td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId2</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;200&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.person</td>
<td>person</td>
</tr>
<tr>
<td>$.deck</td>
<td>deckId2</td>
</tr>
<tr>
<td>$.session.sessionSize</td>
<td>20</td>
</tr>
<tr>
<td>$.groups[0].groupId</td>
<td>0</td>
</tr>
<tr>
<td>$.groups[0].groupType</td>
<td>UNPLAYED</td>
</tr>
<tr>
<td>$.groups[1].groupId</td>
<td>1</td>
</tr>
<tr>
<td>$.groups[1].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[1].minPercent</td>
<td>0.0</td>
</tr>
<tr>
<td>$.groups[1].maxPercent</td>
<td>0.33333</td>
</tr>
<tr>
<td>$.groups[2].groupId</td>
<td>2</td>
</tr>
<tr>
<td>$.groups[2].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[2].minPercent</td>
<td>0.33333</td>
</tr>
<tr>
<td>$.groups[2].maxPercent</td>
<td>0.46941</td>
</tr>
<tr>
<td>$.groups[3].groupId</td>
<td>3</td>
</tr>
<tr>
<td>$.groups[3].groupType</td>
<td>INPLAY</td>
</tr>
<tr>
<td>$.groups[3].minPercent</td>
<td>0.46941</td>
</tr>
<tr>
<td>$.groups[3].maxPercent</td>
<td>0.51941</td>
</tr>
<tr>
<td>$.groups[4].groupId</td>
<td>4</td>
</tr>
<tr>
<td>$.groups[4].groupType</td>
<td>MASTERED</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using empty personId and valid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td></td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId2</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>person: username is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using null personId and valid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>&quot;null&quot;</td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId2</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>person: username is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using valid personId and invalid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId1</td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId999</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;404&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>404</td>
</tr>
<tr>
<td>$.description</td>
<td>{  &quot;status&quot; : 404,  &quot;code&quot; : 1300,  &quot;category&quot; : &quot;Validation Error&quot;,  &quot;reason&quot; : &quot;Cannot find requested entity&quot;,  &quot;messages&quot; : [ &quot;requested deck deckId999 not found&quot; ]}</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using valid personId and non-existing deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId3</td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId4</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;404&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>404</td>
</tr>
<tr>
<td>$.description</td>
<td>{  &quot;status&quot; : 404,  &quot;code&quot; : 1300,  &quot;category&quot; : &quot;Validation Error&quot;,  &quot;reason&quot; : &quot;Cannot find requested entity&quot;,  &quot;messages&quot; : [ &quot;requested deck deckId4 not found&quot; ]}</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using valid personId and empty deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId1</td>
</tr>
<tr>
<td>#deckId</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>deck: deck id is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards using valid personId and null deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId1</td>
</tr>
<tr>
<td>#deckId</td>
<td>&quot;null&quot;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>deck: deck id is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards only using valid personId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>#personId</td>
<td>personId1</td>
</tr>
<tr>
<td>,</td>
<td></td>
</tr>
<tr>
<td>&quot;deck&quot;: &quot;#deckId&quot;</td>
<td></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>deck: deck id is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2>Recommendation for the next cards only using valid deckId</h2>
<ul>
<li>
<p>And the user set the request attributes as follows</p>
<table>
<thead>
<tr>
<th>Attribute Value In JSON Template</th>
<th>Attribute Value To Be Set</th>
</tr>
</thead>
<tbody>
<tr>
<td>&quot;person&quot;: &quot;#personId&quot;,</td>
<td></td>
</tr>
<tr>
<td>#deckId</td>
<td>deckId2</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>When the user invokes the API</p>
</li>
<li>
<p>Then the status code for the request is &quot;400&quot;</p>
</li>
<li>
<p>And the JSON Path Assertions for the response should be equal to the following</p>
<table>
<thead>
<tr>
<th>JSON Path</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>$.code</td>
<td>400</td>
</tr>
<tr>
<td>$.description</td>
<td>person: username is required</td>
</tr>
</tbody>
</table>
</li>
</ul>
<ul id="navigation"><center><li class="nav"><a href="..\Question Management\Questions Count\Get Questions Count.html"><</a></li><li class="nav"><a href="..\..\..\..\index.html">=</a></li><li class="nav"><a href="..\..\Deck Service\Subjects CRUD Operations\Create Category\Create Category using Deck Service - Data Driven Positive Tests.html">></a></li></center></article>